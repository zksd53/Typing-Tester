<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Typing Tester</title>

  <!-- Fonts & Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="index.css" />
</head>
<body>

  <!-- Toggle Day/Night -->
  <div class="toggle-container" id="toggle" style="position: fixed; top: 20px; left: 20px; z-index: 10000;">
    <div class="toggle-slider"></div>
    <div class="toggle-labels">
      <span>ðŸŒ•</span>
      <span>ðŸŒ™</span>
    </div>
  </div>

  <!-- Typing Tester Header -->
  <div class="container" id="textContainer">
    <h1 class="glow-text">Typing Tester</h1>
  </div>

  <div id="indexContent">
    <div class="center-box">
      <div class="writing-box">
        <p>
          Success is not the result of spontaneous combustion. You must set yourself on fire with passion, determination,
          and relentless effort. Every step forward, no matter how small, builds momentum. Challenges are inevitable, but
          your response defines your growth. Embrace failure as a stepping stone, not a dead end. Keep learning, stay curious,
          and push your limits. The journey matters as much as the destination, so make every moment count. Discipline and
          consistency will carry you through moments when motivation fades. Focus on progress rather than perfection, and
          celebrate even the smallest achievements.
        </p>
      </div>

      <!-- Time Selector -->
      <select id="timeSelector" class="input" style="margin-top: 1rem; margin-bottom: 1rem;">
        <option value="30">30 seconds</option>
        <option value="60" selected>60 seconds</option>
        <option value="90">90 seconds</option>
      </select>

      <!-- Timer Display -->
      <div id="timer" style="font-size: 24px; margin-bottom:20px; display: none;">Timer: 0s</div>

      <!-- Input Box -->
      <input
        type="text"
        id="inputBox"
        placeholder="Timer will Start once you start typing in this box..."
        class="input"
        autocomplete="off"
      />

      <!-- Controls -->
      <div class="reset">
        <button class="scoreCheck">Result</button>
        <button class="reset">Reset</button>
      </div>

      <!-- Google Auth Buttons -->
      <div style="margin-top: 1rem;">
        <button id="loginBtn">Login with Google</button>
        <button id="logoutBtn" style="display:none;">Logout</button>
        <p id="userInfo" style="color:white;"></p>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal hidden">
      <span class="close-btn">&times;</span>
      <h1>Below are your stats: ðŸ™Œ</h1>
      <div>
        <p class="wordsPerMinute">WPM: 0</p>
        <p class="accuracy">Accuracy: 0%</p>
        <p class="errors">Errors: 0</p>
        <p class="time">Time-Taken: 0.00s</p>
      </div>
    </div>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"></script>

  <!-- Text rise animation -->
  <script>
    window.addEventListener("load", () => {
      setTimeout(() => {
        document.getElementById("textContainer").classList.add("moved-up");
      }, 5000);
    });
  </script>

  <!-- Typing Test + Toggle Script -->
  <script src="index.js"></script>

  <!-- Inline toggle script (optional if you already moved it to index.js) -->
  <script>
    const toggle = document.getElementById('toggle');
    let isNight = localStorage.getItem('isNight') === 'true';

    function applyMode(night) {
      if (night) {
        toggle.classList.add('active');
        document.body.style.background = "linear-gradient(to right, #1a0033 0%, #4b004d 100%)";
        document.body.style.color = "#fff";
      } else {
        toggle.classList.remove('active');
        document.body.style.background = "linear-gradient(to right, #4B0082 0%, #D8BFD8 100%)";
        document.body.style.color = "#000";
      }
    }

    applyMode(isNight);

    toggle.addEventListener('click', () => {
      isNight = !isNight;
      localStorage.setItem('isNight', isNight);
      applyMode(isNight);
    });
  </script>

</body>
</html>
